<script>
    var globalVar = 'notReady'

    document.addEventListener('DOMContentLoaded', function() {
        render().then(()=>{
            try {
                JsBarcode(".barcode").init();
                globalVar = 'ready';
            } catch(e) {
                console.error('Barcode error:', e);
                // Still mark as ready even if barcode fails
                document.body.innerHTML = 'Barcode error: ' + e;
                globalVar = 'ready';
            }
        });
    });
    async function render(){
        const template = document.querySelector('body');
        const data = {data};
        const html = Handlebars.compile(template.innerHTML)(data);
        document.body.innerHTML = html;
    }
</script>
</html>